<div class="property-list-page">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">
        <span class="title-gradient">Location ImmobiliÃ¨re</span>
        <br>sur la Blockchain
      </h1>
      <p class="hero-subtitle">
        Louez et proposez des biens immobiliers en toute sÃ©curitÃ© grÃ¢ce aux smart contracts Ethereum
      </p>
      
      <div class="hero-stats">
        <div class="stat-card">
          <span class="stat-icon">ğŸ </span>
          <span class="stat-value">{{ properties.length }}</span>
          <span class="stat-label">PropriÃ©tÃ©s</span>
        </div>
        <div class="stat-card">
          <span class="stat-icon">âŸ </span>
          <span class="stat-value">Sepolia</span>
          <span class="stat-label">RÃ©seau</span>
        </div>
        <div class="stat-card">
          <span class="stat-icon">ğŸ”’</span>
          <span class="stat-value">100%</span>
          <span class="stat-label">SÃ©curisÃ©</span>
        </div>
      </div>

      <div class="hero-actions">
        <button *ngIf="isConnected" class="btn btn-primary btn-lg" (click)="goToListProperty()">
          âœ¨ Publier un bien
        </button>
        <button class="btn btn-glass btn-lg" (click)="goToMap()">
          ğŸ—ºï¸ Voir la carte
        </button>
      </div>
    </div>
    
    <div class="hero-visual">
      <div class="floating-card card-1">ğŸ¡</div>
      <div class="floating-card card-2">ğŸ“œ</div>
      <div class="floating-card card-3">âŸ </div>
    </div>
  </section>

  <!-- Search & Filters Section -->
  <section class="filters-section">
    <div class="filters-container">
      <div class="search-box">
        <span class="search-icon">ğŸ”</span>
        <input type="text" 
               [(ngModel)]="searchTerm" 
               (input)="applyFilters()"
               placeholder="Rechercher une propriÃ©tÃ©..."
               class="search-input">
      </div>
      
      <div class="filters-row">
        <div class="filter-group">
          <label>ğŸ“ Localisation</label>
          <input type="text" 
                 [(ngModel)]="filterLocation" 
                 (input)="applyFilters()"
                 placeholder="Ville..."
                 class="filter-input">
        </div>
        
        <div class="filter-group">
          <label>ğŸ’° Prix min (ETH)</label>
          <input type="number" 
                 [(ngModel)]="filterMinPrice" 
                 (input)="applyFilters()"
                 placeholder="0"
                 step="0.001"
                 class="filter-input">
        </div>
        
        <div class="filter-group">
          <label>ğŸ’° Prix max (ETH)</label>
          <input type="number" 
                 [(ngModel)]="filterMaxPrice" 
                 (input)="applyFilters()"
                 placeholder="0"
                 step="0.001"
                 class="filter-input">
        </div>
        
        <button class="btn btn-outline" (click)="resetFilters()">
          ğŸ”„ RÃ©initialiser
        </button>
      </div>
      
      <div class="results-count">
        {{ filteredProperties.length }} propriÃ©tÃ©(s) trouvÃ©e(s)
      </div>
    </div>
  </section>

  <!-- Connection Notice -->
  <div *ngIf="!isConnected" class="connect-banner">
    <span class="connect-icon">ğŸ¦Š</span>
    <span>Connectez votre wallet MetaMask pour louer ou publier des propriÃ©tÃ©s</span>
  </div>

  <!-- Properties Section -->
  <section class="properties-section">
    <div class="section-header">
      <h2>ğŸ˜ï¸ PropriÃ©tÃ©s Disponibles</h2>
      <div class="section-actions">
        <button class="btn btn-secondary" (click)="loadProperties()">
          ğŸ”„ Actualiser
        </button>
      </div>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>Chargement des propriÃ©tÃ©s depuis la blockchain...</p>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredProperties.length === 0 && !loading" class="empty-state">
      <div class="empty-icon">ğŸ—ï¸</div>
      <h3>Aucune propriÃ©tÃ© trouvÃ©e</h3>
      <p *ngIf="searchTerm || filterLocation || filterMinPrice || filterMaxPrice">
        Essayez de modifier vos critÃ¨res de recherche
      </p>
      <p *ngIf="!searchTerm && !filterLocation && !filterMinPrice && !filterMaxPrice">
        Soyez le premier Ã  lister une propriÃ©tÃ© sur la blockchain !
      </p>
      <button *ngIf="isConnected && !searchTerm && !filterLocation" class="btn btn-primary btn-lg" (click)="goToListProperty()">
        âœ¨ Publier la premiÃ¨re propriÃ©tÃ©
      </button>
      <button *ngIf="searchTerm || filterLocation || filterMinPrice || filterMaxPrice" class="btn btn-secondary" (click)="resetFilters()">
        ğŸ”„ RÃ©initialiser les filtres
      </button>
    </div>

    <!-- Properties Grid -->
    <div *ngIf="filteredProperties.length > 0" class="properties-grid">
      <div *ngFor="let property of filteredProperties; let i = index" 
           class="property-card animate-fade-in"
           [style.animation-delay]="i * 0.1 + 's'"
           (click)="viewProperty(property.id)">
        
        <div class="card-image">
          <img [src]="getPropertyImage(property.id)" [alt]="property.title">
          <div class="card-badge" [class.available]="property.isAvailable">
            {{ property.isAvailable ? 'âœ… Disponible' : 'ğŸ”’ OccupÃ©e' }}
          </div>
          <div class="card-price-tag">
            <span class="price-value">{{ property.pricePerDay }}</span>
            <span class="price-unit">ETH/jour</span>
          </div>
        </div>

        <div class="card-content">
          <h3 class="card-title">{{ property.title }}</h3>
          <p class="card-location">
            <span class="location-icon">ğŸ“</span>
            {{ property.location }}
          </p>
          <p class="card-description">
            {{ property.description || 'Magnifique propriÃ©tÃ© disponible Ã  la location' }}
          </p>

          <div class="card-details">
            <div class="detail-item">
              <span class="detail-label">DÃ©pÃ´t</span>
              <span class="detail-value">{{ property.deposit }} ETH</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ID</span>
              <span class="detail-value">#{{ property.id }}</span>
            </div>
          </div>

          <button class="btn btn-primary card-btn"
                  (click)="$event.stopPropagation(); rentProperty(property)"
                  [disabled]="!property.isAvailable || !isConnected">
            {{ !isConnected ? 'ğŸ”— Connectez-vous' : (property.isAvailable ? 'ğŸ”‘ Louer maintenant' : 'âŒ Indisponible') }}
          </button>
        </div>
      </div>
    </div>
  </section>
</div>