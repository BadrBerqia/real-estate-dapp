<div class="property-list-page">
  <!-- En-t√™te avec actions -->
  <div class="page-header">
    <h1>üè† Propri√©t√©s Disponibles</h1>
    <div class="header-actions">
      <button class="btn btn-outline" (click)="goToMap()">
        üó∫Ô∏è Voir sur la carte
      </button>
      <button *ngIf="isConnected" class="btn btn-primary" (click)="goToListProperty()">
        ‚ûï Lister une propri√©t√©
      </button>
      <div *ngIf="!isConnected" class="connect-notice">
        <p>Connectez-vous pour louer ou lister des propri√©t√©s</p>
      </div>
    </div>
  </div>

  <!-- Contenu principal -->
  <div class="property-list-content">
    <div *ngIf="loading" class="loading">Chargement des propri√©t√©s...</div>
    
    <div *ngIf="error" class="error">
      {{ error }}
      <button class="btn btn-primary" (click)="loadProperties()">R√©essayer</button>
    </div>

    <div *ngIf="properties.length === 0 && !loading" class="no-properties">
      <h3>Aucune propri√©t√© disponible</h3>
      <p>Soyez le premier √† lister une propri√©t√© !</p>
      <button *ngIf="isConnected" class="btn btn-primary" (click)="goToListProperty()">
        Lister la premi√®re propri√©t√©
      </button>
    </div>

    <div class="properties-grid">
      <div 
        *ngFor="let property of properties" 
        class="property-card"
        (click)="viewProperty(property.id)"
      >
        <div class="property-image">
          <img [src]="getPropertyImage(property.id)" [alt]="property.title">
          <div class="property-badge" [class.available]="property.isAvailable">
            {{ property.isAvailable ? '‚úÖ Disponible' : '‚ùå Occup√©e' }}
          </div>
        </div>
        
        <div class="property-info">
          <h3>{{ property.title }}</h3>
          <p class="location">üìç {{ property.location }}</p>
          <p class="description">{{ property.description || 'Aucune description' }}</p>
          
          <div class="property-details">
            <div class="price">
              <strong>{{ property.pricePerDay }} ETH/jour</strong>
            </div>
            <div class="deposit">
              D√©p√¥t: {{ property.deposit }} ETH
            </div>
          </div>
          
          <button 
            class="btn btn-primary rent-btn"
            (click)="$event.stopPropagation(); rentProperty(property)"
            [disabled]="!property.isAvailable || !isConnected"
          >
            {{ !isConnected ? 'Connectez-vous' : (property.isAvailable ? 'Louer' : 'Indisponible') }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation rapide -->
  <div class="quick-nav" *ngIf="isConnected">
    <h3>Navigation rapide</h3>
    <div class="nav-buttons">
      <button class="btn btn-secondary" (click)="goToMyProperties()">
        üë§ Mes Propri√©t√©s
      </button>
      <button class="btn btn-secondary" (click)="goToMyRentals()">
        üìÖ Mes Locations
      </button>
      <button class="btn btn-secondary" (click)="goToProfile()">
        üîß Mon Profil
      </button>
    </div>
  </div>
</div>